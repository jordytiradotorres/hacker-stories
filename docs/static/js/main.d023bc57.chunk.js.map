{"version":3,"sources":["close.svg","components/Item.js","components/List.js","components/InputWithLabel.js","reducers/index.js","hooks/useSemiPersistentState.js","components/LastSearches.js","App.js","reportWebVitals.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgClose","_ref","svgRef","title","titleId","props","height","viewBox","width","xmlns","ref","id","ForwardRef","StyledItem","styled","div","StyledColumn","span","StyledButton","button","StyledButtonSmall","Item","item","onRemoveItem","href","url","author","num_comments","points","type","onClick","StyledSpan","List","React","memo","list","SORTS","NONE","TITLE","sortBy","AUTHOR","COMMENT","reverse","POINT","useState","sortKey","isReverse","sort","setSort","handleSort","sortFunction","sortedList","map","objectID","StyledSearchForm","form","StyledLabel","label","StyledInput","input","InputWithLabel","onInputChange","handleSearchSubmit","value","children","isFocused","inputRef","useRef","useEffect","current","focus","onSubmit","htmlFor","onChange","autoFocus","disabled","storiesReducer","state","action","isLoading","isError","data","payload","page","concat","filter","story","Error","useSemiPersistentState","isMounted","localStorage","getItem","setValue","console","log","setItem","LastSearches","lastSearches","onLastSearch","searchTerm","index","StyledContainer","StyledHeadlinePrimary","h1","StyledLoaderContainer","PARAM_SEARCH","getUrl","extractSearchTerm","substring","lastIndexOf","replace","App","useReducer","stories","dispatchStories","setSearchTerm","urls","setUrls","handleFetchStories","useCallback","a","lastUrl","axios","get","result","hits","handleRemoveStory","sumComments","useMemo","reduce","getSumComments","handleSearch","slice","getLastSearches","event","preventDefault","class","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d023bc57.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0\"\n});\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"329pt\",\n    viewBox: \"0 0 329.26933 329\",\n    width: \"329pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.17a94979.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { ReactComponent as Close } from \"../close.svg\";\r\n\r\nconst StyledItem = styled.div`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-bottom: 5px;\r\n`;\r\n\r\nconst StyledColumn = styled.span`\r\n\tpadding: 0 5px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\r\n\ta {\r\n\t\tcolor: inherit;\r\n\t}\r\n\r\n\twidth: ${(props) => props.width};\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n\tbackground: transparent;\r\n\tborder: 1px solid #171212;\r\n\tpadding: 5px;\r\n\tcursor: pointer;\r\n\tmargin-right: 5px;\r\n\twidth: 80px;\r\n\toutline: none;\r\n\r\n\ttransition: all 0.1s ease-in;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: #f1e3e4;\r\n\t\tcolor: #171212;\r\n\t}\r\n\r\n\t&:hover > svg > g {\r\n\t\tfill: #f1e3e4;\r\n\t\tstroke: #f1e3e4;\r\n\t}\r\n`;\r\n\r\nconst StyledButtonSmall = styled(StyledButton)`\r\n\tpadding: 5px;\r\n`;\r\n\r\nconst Item = ({ item, onRemoveItem }) => {\r\n\treturn (\r\n\t\t<StyledItem>\r\n\t\t\t<StyledColumn width=\"40%\">\r\n\t\t\t\t<a href={item.url} target=\"blank\">\r\n\t\t\t\t\t{item.title}\r\n\t\t\t\t</a>\r\n\t\t\t</StyledColumn>\r\n\t\t\t<StyledColumn width=\"30%\">{item.author}</StyledColumn>\r\n\t\t\t<StyledColumn width=\"10%\">{item.num_comments}</StyledColumn>\r\n\t\t\t<StyledColumn width=\"10%\">{item.points}</StyledColumn>\r\n\t\t\t<StyledColumn width=\"10%\">\r\n\t\t\t\t<StyledButtonSmall\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={() => onRemoveItem(item)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/* Dismiss */}\r\n\t\t\t\t\t<Close height=\"18px\" width=\"18px\" />\r\n\t\t\t\t</StyledButtonSmall>\r\n\t\t\t</StyledColumn>\r\n\t\t</StyledItem>\r\n\t);\r\n};\r\n\r\nexport default Item;\r\n","import React, { useState } from \"react\";\r\nimport { sortBy } from \"lodash\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Item from \"./Item\";\r\n\r\nconst StyledButton = styled.button`\r\n\tbackground: transparent;\r\n\tborder: 1px solid #171212;\r\n\tpadding: 5px;\r\n\tcursor: pointer;\r\n\tmargin-right: 5px;\r\n\twidth: 80px;\r\n\toutline: none;\r\n\r\n\ttransition: all 0.1s ease-in;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: #f1e3e4;\r\n\t\tcolor: #171212;\r\n\t}\r\n\r\n\t&:hover > svg > g {\r\n\t\tfill: #171212;\r\n\t\tstroke: #171212;\r\n\t}\r\n`;\r\n\r\nconst StyledSpan = styled.span`\r\n\tmargin-bottom: 1em;\r\n\tdisplay: inline-block;\r\n\tmargin-right: 0.5em;\r\n\tcolor: #ffffff;\r\n\ttext-transform: uppercase;\r\n`;\r\n\r\nconst List = React.memo(({ list, onRemoveItem }) => {\r\n\tconst SORTS = {\r\n\t\tNONE: (list) => list,\r\n\t\tTITLE: (list) => sortBy(list, \"title\"),\r\n\t\tAUTHOR: (list) => sortBy(list, \"author\"),\r\n\t\tCOMMENT: (list) => sortBy(list, \"num_comments\").reverse(),\r\n\t\tPOINT: (list) => sortBy(list, \"points\").reverse(),\r\n\t};\r\n\r\n\t// con vanillaJS\r\n\t// const sortStories = list.sort((a, b) => (a.title < b.title ? -1 : 1));\r\n\r\n\t// con lodash\r\n\tconst [sort, setSort] = useState({\r\n\t\tsortKey: \"NONE\",\r\n\t\tisReverse: false,\r\n\t});\r\n\r\n\tconst handleSort = (sortKey) => {\r\n\t\tconst isReverse = sort.sortKey === sortKey && !sort.isReverse;\r\n\r\n\t\tsetSort({\r\n\t\t\tsortKey,\r\n\t\t\tisReverse,\r\n\t\t});\r\n\t};\r\n\r\n\tconst sortFunction = SORTS[sort.sortKey];\r\n\r\n\tconst sortedList = sort.isReverse\r\n\t\t? sortFunction(list).reverse()\r\n\t\t: sortFunction(list);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<StyledSpan>Ordenar por: </StyledSpan>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={() => handleSort(\"TITLE\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTitle\r\n\t\t\t\t\t</StyledButton>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={() => handleSort(\"AUTHOR\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAuthor\r\n\t\t\t\t\t</StyledButton>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={() => handleSort(\"COMMENT\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tComments\r\n\t\t\t\t\t</StyledButton>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<StyledButton\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={() => handleSort(\"POINT\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPoints\r\n\t\t\t\t\t</StyledButton>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t{sortedList.map((item) => (\r\n\t\t\t\t<Item\r\n\t\t\t\t\tkey={item.objectID}\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tonRemoveItem={onRemoveItem}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nexport default List;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\n// import styles from \"../App.module.css\";\r\n// import cs from \"classnames\";\r\n\r\nconst StyledButton = styled.button`\r\n\tbackground: transparent;\r\n\tborder: 1px solid #171212;\r\n\tpadding: 5px;\r\n\tcursor: pointer;\r\n\tmargin-left: 0.5em;\r\n\twidth: 80px;\r\n\toutline: none;\r\n\r\n\ttransition: all 0.1s ease-in;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: #f1e3e4;\r\n\t\tcolor: #171212;\r\n\t}\r\n\r\n\t&:hover > svg > g {\r\n\t\tfill: #171212;\r\n\t\tstroke: #171212;\r\n\t}\r\n`;\r\n\r\nconst StyledSearchForm = styled.form`\r\n\tpadding: 10px 0 20px 0;\r\n`;\r\n\r\nconst StyledLabel = styled.label`\r\n\tfont-size: 24px;\r\n\tmargin-right: 0.5em;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n\tborder: none;\r\n\tborder-bottom: 1px solid #171212;\r\n\tbackground-color: transparent;\r\n\toutline: none;\r\n\tfont-size: 24px;\r\n`;\r\n\r\nconst InputWithLabel = ({\r\n\tid,\r\n\ttype,\r\n\tonInputChange,\r\n\thandleSearchSubmit,\r\n\tvalue,\r\n\tchildren,\r\n\tisFocused,\r\n}) => {\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\t// forma imperativa\r\n\t\tif (isFocused && inputRef.current) {\r\n\t\t\tinputRef.current.focus();\r\n\t\t}\r\n\t}, [isFocused]);\r\n\r\n\treturn (\r\n\t\t<StyledSearchForm onSubmit={handleSearchSubmit}>\r\n\t\t\t<StyledLabel htmlFor={id}>{children}</StyledLabel>\r\n\r\n\t\t\t<StyledInput\r\n\t\t\t\tref={inputRef}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tid={id}\r\n\t\t\t\tonChange={onInputChange}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tautoFocus={isFocused}\r\n\t\t\t/>\r\n\r\n\t\t\t<StyledButton type=\"submit\" disabled={!value}>\r\n\t\t\t\tSubmit\r\n\t\t\t</StyledButton>\r\n\t\t</StyledSearchForm>\r\n\t);\r\n};\r\n\r\nexport default InputWithLabel;\r\n","const storiesReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"STORIES_FETCH_INIT\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t\tisError: false,\r\n\t\t\t};\r\n\t\tcase \"STORIES_FETCH_SUCCESS\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisError: false,\r\n\t\t\t\tdata:\r\n\t\t\t\t\taction.payload.page === 0\r\n\t\t\t\t\t\t? action.payload.list\r\n\t\t\t\t\t\t: state.data.concat(action.payload.list),\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t};\r\n\t\tcase \"STORIES_FETCH_FAILURE\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisError: true,\r\n\t\t\t};\r\n\t\tcase \"REMOVE_STORY\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: state.data.filter(\r\n\t\t\t\t\t(story) => action.payload.objectID !== story.objectID\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\tthrow new Error();\r\n\t}\r\n};\r\n\r\nexport default storiesReducer;\r\n","import { useEffect, useState, useRef } from \"react\";\r\n\r\n// la funcion va a devolver un string y una actualizacion de funcion con un parametro pero no retorna nada\r\nconst useSemiPersistentState = (key) => {\r\n\tconst isMounted = useRef(false);\r\n\r\n\tconst [value, setValue] = useState(localStorage.getItem(key) || \"\");\r\n\r\n\t// cada vez que cambia el value, se renderiza useEffect\r\n\tuseEffect(() => {\r\n\t\tif (!isMounted.current) {\r\n\t\t\tisMounted.current = true;\r\n\t\t} else {\r\n\t\t\tconsole.log(\"A\");\r\n\t\t\tlocalStorage.setItem(key, value);\r\n\t\t}\r\n\t}, [value, key]);\r\n\r\n\treturn [value, setValue];\r\n};\r\n\r\nexport default useSemiPersistentState;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledButton = styled.button`\r\n\tbackground: transparent;\r\n\tborder: 1px solid #171212;\r\n\tpadding: 5px;\r\n\tcursor: pointer;\r\n\tmargin-right: 5px;\r\n\twidth: 80px;\r\n\toutline: none;\r\n\r\n\ttransition: all 0.1s ease-in;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: #f1e3e4;\r\n\t\tcolor: #171212;\r\n\t}\r\n\r\n\t&:hover > svg > g {\r\n\t\tfill: #171212;\r\n\t\tstroke: #171212;\r\n\t}\r\n`;\r\n\r\nconst StyledSpan = styled.span`\r\n\tmargin-bottom: 1.2em;\r\n\tdisplay: inline-block;\r\n\tmargin-right: 0.5em;\r\n\tcolor: #ffffff;\r\n\ttext-transform: uppercase;\r\n`;\r\n\r\nconst LastSearches = ({ lastSearches, onLastSearch }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<StyledSpan>\r\n\t\t\t\tÚltimas busquedas:{\" \"}\r\n\t\t\t\t{lastSearches.length === 0 && \"Aun no hay busquedas\"}\r\n\t\t\t</StyledSpan>\r\n\t\t\t{lastSearches.map((searchTerm, index) => (\r\n\t\t\t\t<StyledButton\r\n\t\t\t\t\tkey={searchTerm + index}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={() => onLastSearch(searchTerm)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{searchTerm}\r\n\t\t\t\t</StyledButton>\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default LastSearches;\r\n","import React, {\r\n\tuseCallback,\r\n\tuseEffect,\r\n\tuseReducer,\r\n\tuseState,\r\n\tuseMemo,\r\n} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\nimport List from \"./components/List\";\r\nimport InputWithLabel from \"./components/InputWithLabel\";\r\nimport storiesReducer from \"./reducers/index\";\r\nimport useSemiPersistentState from \"./hooks/useSemiPersistentState\";\r\nimport Item from \"./components/Item\";\r\nimport LastSearches from \"./components/LastSearches\";\r\n\r\nconst StyledContainer = styled.div`\r\n\tpadding: 20px;\r\n\tbackground-color: #a288a6;\r\n\tcolor: #1c1d21;\r\n`;\r\n\r\nconst StyledHeadlinePrimary = styled.h1`\r\n\tfont-size: 2.5em;\r\n\tletter-spacing: 2px;\r\n\ttext-align: center;\r\n\tfont-weight: 500;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n\tbackground: transparent;\r\n\tborder: 1px solid #171212;\r\n\tpadding: 5px;\r\n\tcursor: pointer;\r\n\tmargin-right: 5px;\r\n\twidth: 80px;\r\n\toutline: none;\r\n\r\n\ttransition: all 0.1s ease-in;\r\n\r\n\t&:hover {\r\n\t\tbackground-color: #f1e3e4;\r\n\t\tcolor: #171212;\r\n\t}\r\n\r\n\t&:hover > svg > g {\r\n\t\tfill: #171212;\r\n\t\tstroke: #171212;\r\n\t}\r\n`;\r\n\r\nconst StyledLoaderContainer = styled.div`\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\twidth: 80px;\r\n\theight: 80px;\r\n\tmin-height: 200px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n\tmargin: -4em 0 2em 0;\r\n\r\n\t& div {\r\n\t\tanimation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n\t\ttransform-origin: 40px 40px;\r\n\t}\r\n\t& div:after {\r\n\t\tcontent: \" \";\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\twidth: 7px;\r\n\t\theight: 7px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: #fff;\r\n\t\tmargin: -4px 0 0 -4px;\r\n\t}\r\n\t& div:nth-child(1) {\r\n\t\tanimation-delay: -0.036s;\r\n\t}\r\n\t& div:nth-child(1):after {\r\n\t\ttop: 63px;\r\n\t\tleft: 63px;\r\n\t}\r\n\t& div:nth-child(2) {\r\n\t\tanimation-delay: -0.072s;\r\n\t}\r\n\t& div:nth-child(2):after {\r\n\t\ttop: 68px;\r\n\t\tleft: 56px;\r\n\t}\r\n\t& div:nth-child(3) {\r\n\t\tanimation-delay: -0.108s;\r\n\t}\r\n\t& div:nth-child(3):after {\r\n\t\ttop: 71px;\r\n\t\tleft: 48px;\r\n\t}\r\n\t& div:nth-child(4) {\r\n\t\tanimation-delay: -0.144s;\r\n\t}\r\n\t& div:nth-child(4):after {\r\n\t\ttop: 72px;\r\n\t\tleft: 40px;\r\n\t}\r\n\t& div:nth-child(5) {\r\n\t\tanimation-delay: -0.18s;\r\n\t}\r\n\t& div:nth-child(5):after {\r\n\t\ttop: 71px;\r\n\t\tleft: 32px;\r\n\t}\r\n\t& div:nth-child(6) {\r\n\t\tanimation-delay: -0.216s;\r\n\t}\r\n\t& div:nth-child(6):after {\r\n\t\ttop: 68px;\r\n\t\tleft: 24px;\r\n\t}\r\n\t& div:nth-child(7) {\r\n\t\tanimation-delay: -0.252s;\r\n\t}\r\n\t& div:nth-child(7):after {\r\n\t\ttop: 63px;\r\n\t\tleft: 17px;\r\n\t}\r\n\t& div:nth-child(8) {\r\n\t\tanimation-delay: -0.288s;\r\n\t}\r\n\t& div:nth-child(8):after {\r\n\t\ttop: 56px;\r\n\t\tleft: 12px;\r\n\t}\r\n\t@keyframes lds-roller {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst API_BASE = \"https://hn.algolia.com/api/v1\";\r\nconst API_SEARCH = \"/search\";\r\nconst PARAM_SEARCH = \"query=\";\r\nconst PARAM_PAGE = \"page=\";\r\n\r\nconst getUrl = (searchTerm, page) =>\r\n\t`${API_BASE}${API_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}`;\r\n\r\nconst extractSearchTerm = (url) =>\r\n\turl\r\n\t\t.substring(url.lastIndexOf(\"?\") + 1, url.lastIndexOf(\"&\"))\r\n\t\t.replace(PARAM_SEARCH, \"\");\r\n// const API_ENDPOINT = \"https://hn.algolia.com/api/v1/search?query=\";\r\n\r\nconst getSumComments = (stories) => {\r\n\treturn stories.data.reduce(\r\n\t\t(result, value) => result + value.num_comments,\r\n\t\t0\r\n\t);\r\n};\r\n\r\nconst App = () => {\r\n\tconst [stories, dispatchStories] = useReducer(storiesReducer, {\r\n\t\tdata: [],\r\n\t\tpage: 0,\r\n\t\tisLoading: false,\r\n\t\tisError: false,\r\n\t});\r\n\r\n\tconst [searchTerm, setSearchTerm] = useSemiPersistentState(\"search\");\r\n\r\n\tconst [urls, setUrls] = useState([getUrl(searchTerm, 0)]);\r\n\r\n\tconst handleFetchStories = useCallback(async () => {\r\n\t\tif (!searchTerm === \"\") return;\r\n\r\n\t\tdispatchStories({\r\n\t\t\ttype: \"STORIES_FETCH_INIT\",\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tconst lastUrl = urls[urls.length - 1];\r\n\t\t\tconst result = await axios.get(lastUrl);\r\n\r\n\t\t\tdispatchStories({\r\n\t\t\t\ttype: \"STORIES_FETCH_SUCCESS\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tlist: result.data.hits,\r\n\t\t\t\t\tpage: result.data.page,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch {\r\n\t\t\tdispatchStories({\r\n\t\t\t\ttype: \"STORIES_FETCH_FAILURE\",\r\n\t\t\t});\r\n\t\t}\r\n\t}, [urls]);\r\n\r\n\tuseEffect(() => {\r\n\t\thandleFetchStories();\r\n\t}, [handleFetchStories]);\r\n\r\n\tconst handleRemoveStory = useCallback((item) => {\r\n\t\tdispatchStories({\r\n\t\t\ttype: \"REMOVE_STORY\",\r\n\t\t\tpayload: item,\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst handleSearchInput = (event) => {\r\n\t\tsetSearchTerm(event.target.value);\r\n\t};\r\n\r\n\tconst handleSearchSubmit = (event) => {\r\n\t\thandleSearch(searchTerm, 0);\r\n\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\t// crea una nueva matriz filtrada, apartir si coincide con el texto ingresado\r\n\t// const searchedStories = stories.data.filter((story) =>\r\n\t// \tstory.title.toLowerCase().includes(searchTerm.trim().toLowerCase())\r\n\t// );\r\n\r\n\tconst sumComments = useMemo(() => getSumComments(stories), [stories]);\r\n\r\n\t// los ultimos 5 busquedas\r\n\r\n\tconst handleSearch = (searchTerm, page) => {\r\n\t\tconst url = getUrl(searchTerm, page);\r\n\t\tsetUrls(urls.concat(url));\r\n\t};\r\n\r\n\tconst getLastSearches = (urls) =>\r\n\t\turls\r\n\t\t\t.reduce((result, url, index) => {\r\n\t\t\t\tconst searchTerm = extractSearchTerm(url);\r\n\r\n\t\t\t\tif (index === 0) {\r\n\t\t\t\t\treturn result.concat(searchTerm);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst previousSearchTerm = result[result.length - 1];\r\n\r\n\t\t\t\tif (searchTerm === previousSearchTerm) {\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn result.concat(searchTerm);\r\n\t\t\t\t}\r\n\t\t\t}, [])\r\n\t\t\t.slice(-6)\r\n\t\t\t.slice(0, -1);\r\n\r\n\tconst lastSearches = getLastSearches(urls);\r\n\r\n\tconst handleLastSearch = (searchTerm) => {\r\n\t\tsetSearchTerm(searchTerm);\r\n\r\n\t\thandleSearch(searchTerm, 0);\r\n\t};\r\n\r\n\tconst handleMore = () => {\r\n\t\tconst lastUrl = urls[urls.length - 1];\r\n\t\tconst searchTerm = extractSearchTerm(lastUrl);\r\n\t\thandleSearch(searchTerm, stories.page + 1);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<StyledContainer>\r\n\t\t\t<StyledHeadlinePrimary>\r\n\t\t\t\tMy Hacker Stories with: {sumComments} comments.\r\n\t\t\t</StyledHeadlinePrimary>\r\n\r\n\t\t\t<InputWithLabel\r\n\t\t\t\tid=\"search\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tisFocused\r\n\t\t\t\tvalue={searchTerm}\r\n\t\t\t\tonInputChange={handleSearchInput}\r\n\t\t\t\thandleSearchSubmit={handleSearchSubmit}\r\n\t\t\t>\r\n\t\t\t\t<strong>Search:</strong>\r\n\t\t\t</InputWithLabel>\r\n\r\n\t\t\t<LastSearches\r\n\t\t\t\tlastSearches={lastSearches}\r\n\t\t\t\tonLastSearch={handleLastSearch}\r\n\t\t\t/>\r\n\r\n\t\t\t{stories.isError && <h3>Algo salio mal...</h3>}\r\n\r\n\t\t\t{stories.isLoading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<StyledLoaderContainer class=\"lds-roller\">\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</StyledLoaderContainer>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t\t<List list={stories.data} onRemoveItem={handleRemoveStory} />\r\n\r\n\t\t\t{!stories.isLoading && stories.page >= 0 && (\r\n\t\t\t\t<StyledButton type=\"button\" onClick={handleMore}>\r\n\t\t\t\t\tMore\r\n\t\t\t\t</StyledButton>\r\n\t\t\t)}\r\n\t\t</StyledContainer>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n\r\n// exportar componentes para hacer las pruebas con jest\r\nexport { InputWithLabel, List, Item };\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App.js\";\r\n// import EjemploCheckbox from \"./EjemploCheckbox\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}