(this["webpackJsonphacker-stories-2"]=this["webpackJsonphacker-stories-2"]||[]).push([[0],{33:function(t,n,e){},56:function(t,n,e){"use strict";e.r(n);var r=e(0),i=e(1),c=e.n(i),a=e(22),o=e.n(a),s=(e(33),e(9)),u=e.n(s),l=e(23),d=e(6),p=e(2),f=e(3),b=e(24),h=e.n(b),j=e(7);function O(){return(O=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function x(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},c=Object.keys(t);for(r=0;r<c.length;r++)e=c[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)e=c[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}var v=i.createElement("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"});function g(t,n){var e=t.title,r=t.titleId,c=x(t,["title","titleId"]);return i.createElement("svg",O({height:"329pt",viewBox:"0 0 329.26933 329",width:"329pt",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},c),e?i.createElement("title",{id:r},e):null,v)}var m=i.forwardRef(g);e.p;function y(){var t=Object(p.a)(["\n\tpadding: 5px;\n"]);return y=function(){return t},t}function k(){var t=Object(p.a)(["\n\tbackground: transparent;\n\tborder: 1px solid #171212;\n\tpadding: 5px;\n\tcursor: pointer;\n\tmargin-right: 5px;\n\twidth: 80px;\n\toutline: none;\n\n\ttransition: all 0.1s ease-in;\n\n\t&:hover {\n\t\tbackground-color: #f1e3e4;\n\t\tcolor: #171212;\n\t}\n\n\t&:hover > svg > g {\n\t\tfill: #f1e3e4;\n\t\tstroke: #f1e3e4;\n\t}\n"]);return k=function(){return t},t}function w(){var t=Object(p.a)(["\n\tpadding: 0 5px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\n\ta {\n\t\tcolor: inherit;\n\t}\n\n\twidth: ",";\n"]);return w=function(){return t},t}function S(){var t=Object(p.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-bottom: 5px;\n"]);return S=function(){return t},t}var E=f.a.div(S()),I=f.a.span(w(),(function(t){return t.width})),T=f.a.button(k()),C=Object(f.a)(T)(y()),R=function(t){var n=t.item,e=t.onRemoveItem;return Object(r.jsxs)(E,{children:[Object(r.jsx)(I,{width:"40%",children:Object(r.jsx)("a",{href:n.url,target:"blank",children:n.title})}),Object(r.jsx)(I,{width:"30%",children:n.author}),Object(r.jsx)(I,{width:"10%",children:n.num_comments}),Object(r.jsx)(I,{width:"10%",children:n.points}),Object(r.jsx)(I,{width:"10%",children:Object(r.jsx)(C,{type:"button",onClick:function(){return e(n)},children:Object(r.jsx)(m,{height:"18px",width:"18px"})})})]})};function F(){var t=Object(p.a)(["\n\tmargin-bottom: 1em;\n\tdisplay: inline-block;\n\tmargin-right: 0.5em;\n\tcolor: #ffffff;\n\ttext-transform: uppercase;\n"]);return F=function(){return t},t}function _(){var t=Object(p.a)(["\n\tbackground: transparent;\n\tborder: 1px solid #171212;\n\tpadding: 5px;\n\tcursor: pointer;\n\tmargin-right: 5px;\n\twidth: 80px;\n\toutline: none;\n\n\ttransition: all 0.1s ease-in;\n\n\t&:hover {\n\t\tbackground-color: #f1e3e4;\n\t\tcolor: #171212;\n\t}\n\n\t&:hover > svg > g {\n\t\tfill: #171212;\n\t\tstroke: #171212;\n\t}\n"]);return _=function(){return t},t}var L=f.a.button(_()),M=f.a.span(F()),N=c.a.memo((function(t){var n=t.list,e=t.onRemoveItem,c={NONE:function(t){return t},TITLE:function(t){return Object(j.sortBy)(t,"title")},AUTHOR:function(t){return Object(j.sortBy)(t,"author")},COMMENT:function(t){return Object(j.sortBy)(t,"num_comments").reverse()},POINT:function(t){return Object(j.sortBy)(t,"points").reverse()}},a=Object(i.useState)({sortKey:"NONE",isReverse:!1}),o=Object(d.a)(a,2),s=o[0],u=o[1],l=function(t){var n=s.sortKey===t&&!s.isReverse;u({sortKey:t,isReverse:n})},p=c[s.sortKey],f=s.isReverse?p(n).reverse():p(n);return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(M,{children:"Ordenar por: "}),Object(r.jsx)("span",{children:Object(r.jsx)(L,{type:"button",onClick:function(){return l("TITLE")},children:"Title"})}),Object(r.jsx)("span",{children:Object(r.jsx)(L,{type:"button",onClick:function(){return l("AUTHOR")},children:"Author"})}),Object(r.jsx)("span",{children:Object(r.jsx)(L,{type:"button",onClick:function(){return l("COMMENT")},children:"Comments"})}),Object(r.jsx)("span",{children:Object(r.jsx)(L,{type:"button",onClick:function(){return l("POINT")},children:"Points"})})]}),f.map((function(t){return Object(r.jsx)(R,{item:t,onRemoveItem:e},t.objectID)}))]})}));function H(){var t=Object(p.a)(["\n\tborder: none;\n\tborder-bottom: 1px solid #171212;\n\tbackground-color: transparent;\n\toutline: none;\n\tfont-size: 24px;\n"]);return H=function(){return t},t}function A(){var t=Object(p.a)(["\n\tfont-size: 24px;\n\tmargin-right: 0.5em;\n"]);return A=function(){return t},t}function P(){var t=Object(p.a)(["\n\tpadding: 10px 0 20px 0;\n"]);return P=function(){return t},t}function B(){var t=Object(p.a)(["\n\tbackground: transparent;\n\tborder: 1px solid #171212;\n\tpadding: 5px;\n\tcursor: pointer;\n\tmargin-left: 0.5em;\n\twidth: 80px;\n\toutline: none;\n\n\ttransition: all 0.1s ease-in;\n\n\t&:hover {\n\t\tbackground-color: #f1e3e4;\n\t\tcolor: #171212;\n\t}\n\n\t&:hover > svg > g {\n\t\tfill: #171212;\n\t\tstroke: #171212;\n\t}\n"]);return B=function(){return t},t}var U=f.a.button(B()),z=f.a.form(P()),D=f.a.label(A()),K=f.a.input(H()),q=function(t){var n=t.id,e=t.type,c=t.onInputChange,a=t.handleSearchSubmit,o=t.value,s=t.children,u=t.isFocused,l=Object(i.useRef)();return Object(i.useEffect)((function(){u&&l.current&&l.current.focus()}),[u]),Object(r.jsxs)(z,{onSubmit:a,children:[Object(r.jsx)(D,{htmlFor:n,children:s}),Object(r.jsx)(K,{ref:l,type:e,id:n,onChange:c,value:o,autoFocus:u}),Object(r.jsx)(U,{type:"submit",disabled:!o,children:"Submit"})]})},J=e(5),V=function(t,n){switch(n.type){case"STORIES_FETCH_INIT":return Object(J.a)(Object(J.a)({},t),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCCESS":return Object(J.a)(Object(J.a)({},t),{},{isLoading:!1,isError:!1,data:0===n.payload.page?n.payload.list:t.data.concat(n.payload.list),page:n.payload.page});case"STORIES_FETCH_FAILURE":return Object(J.a)(Object(J.a)({},t),{},{isLoading:!1,isError:!0});case"REMOVE_STORY":return Object(J.a)(Object(J.a)({},t),{},{data:t.data.filter((function(t){return n.payload.objectID!==t.objectID}))});default:throw new Error}},Y=function(t){var n=Object(i.useRef)(!1),e=Object(i.useState)(localStorage.getItem(t)||""),r=Object(d.a)(e,2),c=r[0],a=r[1];return Object(i.useEffect)((function(){n.current?(console.log("A"),localStorage.setItem(t,c)):n.current=!0}),[c,t]),[c,a]};function G(){var t=Object(p.a)(["\n\tmargin-bottom: 1.2em;\n\tdisplay: inline-block;\n\tmargin-right: 0.5em;\n\tcolor: #ffffff;\n\ttext-transform: uppercase;\n"]);return G=function(){return t},t}function Q(){var t=Object(p.a)(["\n\tbackground: transparent;\n\tborder: 1px solid #171212;\n\tpadding: 5px;\n\tcursor: pointer;\n\tmargin-right: 5px;\n\twidth: 80px;\n\toutline: none;\n\n\ttransition: all 0.1s ease-in;\n\n\t&:hover {\n\t\tbackground-color: #f1e3e4;\n\t\tcolor: #171212;\n\t}\n\n\t&:hover > svg > g {\n\t\tfill: #171212;\n\t\tstroke: #171212;\n\t}\n"]);return Q=function(){return t},t}var W=f.a.button(Q()),X=f.a.span(G()),Z=function(t){var n=t.lastSearches,e=t.onLastSearch;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(X,{children:["\xdaltimas busquedas:"," ",0===n.length&&"Aun no hay busquedas"]}),n.map((function(t,n){return Object(r.jsx)(W,{type:"button",onClick:function(){return e(t)},children:t},t+n)}))]})};function $(){var t=Object(p.a)(['\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: 80px;\n\theight: 80px;\n\tmin-height: 200px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\tmargin: -4em 0 2em 0;\n\n\t& div {\n\t\tanimation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n\t\ttransform-origin: 40px 40px;\n\t}\n\t& div:after {\n\t\tcontent: " ";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\twidth: 7px;\n\t\theight: 7px;\n\t\tborder-radius: 50%;\n\t\tbackground: #fff;\n\t\tmargin: -4px 0 0 -4px;\n\t}\n\t& div:nth-child(1) {\n\t\tanimation-delay: -0.036s;\n\t}\n\t& div:nth-child(1):after {\n\t\ttop: 63px;\n\t\tleft: 63px;\n\t}\n\t& div:nth-child(2) {\n\t\tanimation-delay: -0.072s;\n\t}\n\t& div:nth-child(2):after {\n\t\ttop: 68px;\n\t\tleft: 56px;\n\t}\n\t& div:nth-child(3) {\n\t\tanimation-delay: -0.108s;\n\t}\n\t& div:nth-child(3):after {\n\t\ttop: 71px;\n\t\tleft: 48px;\n\t}\n\t& div:nth-child(4) {\n\t\tanimation-delay: -0.144s;\n\t}\n\t& div:nth-child(4):after {\n\t\ttop: 72px;\n\t\tleft: 40px;\n\t}\n\t& div:nth-child(5) {\n\t\tanimation-delay: -0.18s;\n\t}\n\t& div:nth-child(5):after {\n\t\ttop: 71px;\n\t\tleft: 32px;\n\t}\n\t& div:nth-child(6) {\n\t\tanimation-delay: -0.216s;\n\t}\n\t& div:nth-child(6):after {\n\t\ttop: 68px;\n\t\tleft: 24px;\n\t}\n\t& div:nth-child(7) {\n\t\tanimation-delay: -0.252s;\n\t}\n\t& div:nth-child(7):after {\n\t\ttop: 63px;\n\t\tleft: 17px;\n\t}\n\t& div:nth-child(8) {\n\t\tanimation-delay: -0.288s;\n\t}\n\t& div:nth-child(8):after {\n\t\ttop: 56px;\n\t\tleft: 12px;\n\t}\n\t@keyframes lds-roller {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n']);return $=function(){return t},t}function tt(){var t=Object(p.a)(["\n\tbackground: transparent;\n\tborder: 1px solid #171212;\n\tpadding: 5px;\n\tcursor: pointer;\n\tmargin-right: 5px;\n\twidth: 80px;\n\toutline: none;\n\n\ttransition: all 0.1s ease-in;\n\n\t&:hover {\n\t\tbackground-color: #f1e3e4;\n\t\tcolor: #171212;\n\t}\n\n\t&:hover > svg > g {\n\t\tfill: #171212;\n\t\tstroke: #171212;\n\t}\n"]);return tt=function(){return t},t}function nt(){var t=Object(p.a)(["\n\tfont-size: 2.5em;\n\tletter-spacing: 2px;\n\ttext-align: center;\n\tfont-weight: 500;\n"]);return nt=function(){return t},t}function et(){var t=Object(p.a)(["\n\tpadding: 20px;\n\tbackground-color: #a288a6;\n\tcolor: #1c1d21;\n"]);return et=function(){return t},t}var rt=f.a.div(et()),it=f.a.h1(nt()),ct=f.a.button(tt()),at=f.a.div($()),ot="query=",st=function(t,n){return"".concat("https://hn.algolia.com/api/v1").concat("/search","?").concat(ot).concat(t,"&").concat("page=").concat(n)},ut=function(t){return t.substring(t.lastIndexOf("?")+1,t.lastIndexOf("&")).replace(ot,"")},lt=function(){var t=Object(i.useReducer)(V,{data:[],page:0,isLoading:!1,isError:!1}),n=Object(d.a)(t,2),e=n[0],c=n[1],a=Y("search"),o=Object(d.a)(a,2),s=o[0],p=o[1],f=Object(i.useState)([st(s,0)]),b=Object(d.a)(f,2),j=b[0],O=b[1],x=Object(i.useCallback)(Object(l.a)(u.a.mark((function t(){var n,e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==!s){t.next=2;break}return t.abrupt("return");case 2:return c({type:"STORIES_FETCH_INIT"}),t.prev=3,n=j[j.length-1],t.next=7,h.a.get(n);case 7:e=t.sent,c({type:"STORIES_FETCH_SUCCESS",payload:{list:e.data.hits,page:e.data.page}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),c({type:"STORIES_FETCH_FAILURE"});case 14:case"end":return t.stop()}}),t,null,[[3,11]])}))),[j]);Object(i.useEffect)((function(){x()}),[x]);var v=Object(i.useCallback)((function(t){c({type:"REMOVE_STORY",payload:t})}),[]),g=Object(i.useMemo)((function(){return function(t){return t.data.reduce((function(t,n){return t+n.num_comments}),0)}(e)}),[e]),m=function(t,n){var e=st(t,n);O(j.concat(e))},y=function(t){return t.reduce((function(t,n,e){var r=ut(n);return 0===e?t.concat(r):r===t[t.length-1]?t:t.concat(r)}),[]).slice(-6).slice(0,-1)}(j);return Object(r.jsxs)(rt,{children:[Object(r.jsxs)(it,{children:["My Hacker Stories with: ",g," comments."]}),Object(r.jsx)(q,{id:"search",type:"text",isFocused:!0,value:s,onInputChange:function(t){p(t.target.value)},handleSearchSubmit:function(t){m(s,0),t.preventDefault()},children:Object(r.jsx)("strong",{children:"Search:"})}),Object(r.jsx)(Z,{lastSearches:y,onLastSearch:function(t){p(t),m(t,0)}}),e.isError&&Object(r.jsx)("h3",{children:"Algo salio mal..."}),e.isLoading&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(at,{class:"lds-roller",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})}),Object(r.jsx)(N,{list:e.data,onRemoveItem:v}),!e.isLoading&&e.page>=0&&Object(r.jsx)(ct,{type:"button",onClick:function(){var t=j[j.length-1],n=ut(t);m(n,e.page+1)},children:"More"})]})},dt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,57)).then((function(n){var e=n.getCLS,r=n.getFID,i=n.getFCP,c=n.getLCP,a=n.getTTFB;e(t),r(t),i(t),c(t),a(t)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(lt,{})}),document.getElementById("root")),dt()}},[[56,1,2]]]);
//# sourceMappingURL=main.d023bc57.chunk.js.map